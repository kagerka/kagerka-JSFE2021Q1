(()=>{"use strict";var e={76:(e,t,n)=>{n.r(t)},80:(e,t,n)=>{n.r(t)},282:(e,t,n)=>{n.r(t)},922:(e,t,n)=>{n.r(t)},528:(e,t,n)=>{n.r(t)},418:(e,t,n)=>{n.r(t)},249:(e,t,n)=>{n.r(t)},939:(e,t,n)=>{n.r(t)},429:(e,t,n)=>{n.r(t)},754:(e,t,n)=>{n.r(t)},572:(e,t,n)=>{n.r(t)},27:(e,t,n)=>{n.r(t)},387:(e,t,n)=>{n.r(t)},752:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const r=n(403),i=n(274),o=n(269);class s extends r.BaseComponent{constructor(e){super("main",["game-field"]),this.rootElement=e,this.main=document.createElement("main")}clear(){this.element.innerHTML=""}render(){this.rootElement.appendChild(this.element),new i.AboutPage(this.element).render();const e=document.querySelector(".game__register_button"),t=document.querySelector(".overlay");return null==e||e.addEventListener("click",(()=>{null==t||t.classList.remove("hidden")})),(new o.ValidateForm).validate(),null==t||t.addEventListener("click",(e=>{var n,r,o,s,l,a;if(e.target){if(e.target.classList.contains("overlay"))t.classList.add("hidden");else if(e.target.classList.contains("cancel")){const e=t.querySelectorAll("input");if(e)for(let t=0;t<e.length;t++)e[t].value="",null===(n=document.querySelector(".first-name.validate-field.correct"))||void 0===n||n.classList.add("hidden"),null===(r=document.querySelector(".first-name.validate-field.incorrect"))||void 0===r||r.classList.remove("hidden"),null===(o=document.querySelector(".last-name.validate-field.correct"))||void 0===o||o.classList.add("hidden"),null===(s=document.querySelector(".last-name.validate-field.incorrect"))||void 0===s||s.classList.remove("hidden"),null===(l=document.querySelector(".email.validate-field.correct"))||void 0===l||l.classList.add("hidden"),null===(a=document.querySelector(".email.validate-field.incorrect"))||void 0===a||a.classList.remove("hidden");const i=document.getElementById("reg-form-fname-error-msg"),c=document.getElementById("reg-form-lname-error-msg"),d=document.getElementById("reg-form-email-error-msg");i&&(i.innerHTML=""),c&&(c.innerHTML=""),d&&(d.innerHTML=""),t.classList.add("hidden")}e.target.classList.contains("add-user")&&(t.classList.add("hidden"),this.element.innerHTML="",new i.AboutPage(this.element).render())}})),this.main}}t.App=s},403:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseComponent=void 0,t.BaseComponent=class{constructor(e="div",t=[]){this.element=document.createElement(e),this.element.classList.add(...t)}}},343:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Card=void 0,n(76);const r=n(403);class i extends r.BaseComponent{constructor(e){super("div",["card-container"]),this.image=e,this.isFlipped=!1,this.element.innerHTML=`\n      <div class="card">\n        <div class="card__front" style="background-image: url('./images/${e}')"></div>\n        <div class="card__back"></div>\n      </div>\n    `}flipToBack(){return this.isFlipped=!0,this.flip(!0)}flipToFront(){return this.isFlipped=!1,this.flip()}flip(e=!1){return new Promise((t=>{this.element.classList.toggle("flipped",e),this.element.addEventListener("transitionend",(()=>t()),{once:!0})}))}}t.Card=i},610:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CardsField=void 0,n(80);const r=n(403),i=n(773);class o extends r.BaseComponent{constructor(){super("div",["cards-field"]),this.cards=[]}clear(){this.cards=[],this.element.innerHTML=""}addCards(e){this.cards=e,this.cards.forEach((e=>this.element.appendChild(e.element))),setTimeout((()=>{this.cards.forEach((e=>e.flipToBack())),(new i.ClickCount).clickCounter()}),3e4)}}t.CardsField=o},509:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Congrat=void 0,n(282);const r=n(403),i=n(363);class o extends r.BaseComponent{constructor(e){super("div",["overlay"]),this.rootElement=e,this.rootElement.appendChild(this.element)}render(){var e,t;const n=null===(e=document.getElementById("min"))||void 0===e?void 0:e.innerText,r=null===(t=document.getElementById("sec"))||void 0===t?void 0:t.innerText;return this.element.innerHTML=`\n      <div class="congrat">\n        <p>Congratulations! You successfully found all matches on ${n}.${r} minutes.</p>\n        <button class="btn congrat-btn">OK</button>\n      </div>`,this.element.addEventListener("click",(()=>{const e=document.querySelector("main");e&&(e.innerHTML=""),new i.ScorePage(e).render();const t=document.querySelector(".game__stop-game_button");t&&(t.innerHTML="START GAME",t.classList.add("start-game"))})),this.element}}t.Congrat=o},954:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Counter=void 0,n(922);const r=n(403),i=n(509),o=n(767);class s extends r.BaseComponent{constructor(e){super("div",["counter"]),this.rootElement=e,this.rootElement.appendChild(this.element)}render(){return this.element.innerHTML='\n      <div id="timer">\n        <span id="min">00</span>:<span id="sec">00</span><span id="clickDiffField"></span>\n      </div>',this.element}countTime(){const e=document.querySelector("#min"),t=document.querySelector("#sec");let n,r=0;function s(e){return e<10?`0${e}`:e}function l(){clearInterval(n),(new o.IndexedDB).render()}const a=document.querySelector(".cards-field");null==a||a.addEventListener("transitionend",(()=>{const e=document.querySelectorAll(".card-container"),t=document.querySelectorAll(".card__front.correct");if(e.length===t.length&&t.length>0){const e=document.querySelector("main");document.querySelector(".congrat")||(new i.Congrat(e).render(),l())}}));const c=document.querySelector(".stop-game");return null==c||c.addEventListener("click",l),n=setInterval((function(){r++;const n=Math.floor(r/60),i=r%60;e&&(e.innerHTML=s(n)),t&&(t.innerHTML=s(i))}),1e3),this.element}}t.Counter=s},677:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{a(r.next(e))}catch(e){o(e)}}function l(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,l)}a((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GameField=void 0;const i=n(229),o=n(954);t.GameField=class{constructor(e){this.rootElement=e,this.game=new i.Game,this.rootElement.appendChild(this.game.element)}start(){return r(this,void 0,void 0,(function*(){new o.Counter(this.rootElement).render();const e=yield fetch("./images.json"),t=yield e.json();let[,n]=t;"1"===localStorage.getItem("cardType")&&"1"===localStorage.getItem("countType")?([n]=t,setTimeout((()=>{const e=document.querySelectorAll(".card-container");for(let t=0;t<e.length;t++)e[t].style.width="25%"}),0)):"1"===localStorage.getItem("cardType")&&"2"===localStorage.getItem("countType")?([,n]=t,setTimeout((()=>{const e=document.querySelectorAll(".card-container");for(let t=0;t<e.length;t++)e[t].style.width="25%"}),0)):"1"===localStorage.getItem("cardType")&&"3"===localStorage.getItem("countType")?([,,n]=t,setTimeout((()=>{const e=document.querySelectorAll(".card-container");for(let t=0;t<e.length;t++)e[t].style.width="20%"}),0)):"1"===localStorage.getItem("cardType")&&"4"===localStorage.getItem("countType")?([,,,n]=t,setTimeout((()=>{const e=document.querySelectorAll(".card-container");for(let t=0;t<e.length;t++)e[t].style.width="16%"}),0)):"2"===localStorage.getItem("cardType")&&"1"===localStorage.getItem("countType")?([,,,,n]=t,setTimeout((()=>{const e=document.querySelectorAll(".card-container");for(let t=0;t<e.length;t++)e[t].style.width="25%"}),0)):"2"===localStorage.getItem("cardType")&&"2"===localStorage.getItem("countType")?([,,,,,n]=t,setTimeout((()=>{const e=document.querySelectorAll(".card-container");for(let t=0;t<e.length;t++)e[t].style.width="25%"}),0)):"2"===localStorage.getItem("cardType")&&"3"===localStorage.getItem("countType")?([,,,,,,n]=t,setTimeout((()=>{const e=document.querySelectorAll(".card-container");for(let t=0;t<e.length;t++)e[t].style.width="20%"}),0)):"2"===localStorage.getItem("cardType")&&"4"===localStorage.getItem("countType")&&([,,,,,,,n]=t,setTimeout((()=>{const e=document.querySelectorAll(".card-container");for(let t=0;t<e.length;t++)e[t].style.width="16%"}),0));const r=n.images.map((e=>`${n.category}/${e}`));this.game.newGame(r)}))}}},773:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ClickCount=void 0,t.ClickCount=class{clickCounter(){const e=document.querySelector(".cards-field");let t,n,r=0,i=0,o=0;return null==e||e.addEventListener("click",(e=>{var s,l;e.target instanceof HTMLElement&&(r++,e.target.classList.contains("card__back")&&r%2==1&&!e.target.classList.contains("clicked")?(e.target.classList.add("clicked","firstClick"),t=document.querySelector(".card__back.clicked.firstClick"),null===(s=null==t?void 0:t.previousElementSibling)||void 0===s||s.classList.add("clicked","firstClick"),t=document.querySelector(".card__front.clicked.firstClick"),e.target.classList.remove("clicked","firstClick")):e.target.classList.contains("card__back")&&r%2==0&&!e.target.classList.contains("clicked")&&(e.target.classList.add("clicked","secondClick"),n=document.querySelector(".card__back.clicked.secondClick"),null===(l=null==n?void 0:n.previousElementSibling)||void 0===l||l.classList.add("clicked","secondClick"),n=document.querySelector(".card__front.clicked.secondClick"),e.target.classList.remove("clicked","secondClick"),r=0),0===r?(null==t?void 0:t.style.backgroundImage)===(null==n?void 0:n.style.backgroundImage)?(o++,setTimeout((()=>{null==t||t.classList.remove("clicked","firstClick"),null==n||n.classList.remove("clicked","secondClick")}),0)):(null==t?void 0:t.style.backgroundImage)!==(null==n?void 0:n.style.backgroundImage)&&(i++,o++,setTimeout((()=>{null==t||t.classList.remove("clicked","firstClick"),null==n||n.classList.remove("clicked","secondClick")}),0)):(null==t||t.classList.remove("clicked","firstClick"),null==n||n.classList.remove("clicked","secondClick")));const a=o-i,c=document.getElementById("clickDiffField");c&&(c.innerHTML=a.toString())})),this}}},229:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{a(r.next(e))}catch(e){o(e)}}function l(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,l)}a((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;const i=n(680),o=n(403),s=n(343),l=n(610);class a extends o.BaseComponent{constructor(){super(),this.isAnimation=!1,this.cardsField=new l.CardsField,this.element.appendChild(this.cardsField.element)}newGame(e){this.cardsField.clear();const t=e.concat(e).map((e=>new s.Card(e))).sort((()=>Math.random()-.5));t.forEach((e=>{e.element.addEventListener("click",(()=>{this.cardHandler(e)}))})),this.cardsField.addCards(t)}cardHandler(e){return r(this,void 0,void 0,(function*(){if(!this.isAnimation&&e.isFlipped){if(this.isAnimation=!0,yield e.flipToFront(),!this.activeCard)return this.activeCard=e,void(this.isAnimation=!1);this.activeCard.image!==e.image?(this.activeCard.element.getElementsByTagName("div")[0].getElementsByTagName("div")[0].classList.add("incorrect"),e.element.getElementsByTagName("div")[0].getElementsByTagName("div")[0].classList.add("incorrect"),yield i.delay(1e3),yield Promise.all([this.activeCard.flipToBack(),e.flipToBack()]),this.activeCard.element.getElementsByTagName("div")[0].getElementsByTagName("div")[0].classList.remove("incorrect"),e.element.getElementsByTagName("div")[0].getElementsByTagName("div")[0].classList.remove("incorrect")):(this.activeCard.element.getElementsByTagName("div")[0].getElementsByTagName("div")[0].classList.add("correct"),e.element.getElementsByTagName("div")[0].getElementsByTagName("div")[0].classList.add("correct")),this.activeCard=void 0,this.isAnimation=!1}}))}}t.Game=a},977:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0,n(528);const r=n(403),i=n(303),o=n(643),s=n(419);class l extends r.BaseComponent{constructor(e){super("header",["header"]),this.rootElement=e,this.header=document.createElement("header"),this.headerLogo=new i.HeaderLogo(this.element),this.headerMenu=new o.HeaderMenu(this.element)}render(){return this.rootElement.appendChild(this.element),this.element.appendChild(this.headerLogo.element),this.element.appendChild(this.headerMenu.element),new s.HeaderGame(this.element).render(),this.header}}t.Header=l},419:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderGame=void 0,n(418);const r=n(403),i=n(395),o=n(363),s=n(677),l=n(954);class a extends r.BaseComponent{constructor(e){super("div",["game"]),this.rootElement=e,this.rootElement.appendChild(this.element)}render(){new a(this.element).notRegistered(),new i.RegisterForm(this.element).render();const e=document.querySelector(".overlay");return null==e||e.addEventListener("click",(e=>{if(e.target&&e.target.classList.contains("add-user")){this.element.innerHTML="",new a(this.element).registered();const e=document.querySelector(".game__stop-game_button");e&&!(null==e?void 0:e.classList.contains("start-game"))&&(e.innerHTML="START GAME",e.classList.add("start-game"))}})),this.element}notRegistered(){return this.element.innerHTML='<div class="game__register_button">REGISTER NEW PLAYER</div>',this.element}registered(){this.element.innerHTML='<div class="game__stop-game_button start-game">START GAME</div>\n                              <div class="game__user"></div>',window.indexedDB;const e=indexedDB.open("kagerka",1);e.onerror=()=>{},e.onsuccess=()=>{e.result.transaction("Contacts").objectStore("Contacts").openCursor().onsuccess=e=>{const t=e.target.result,n=document.querySelector(".game__user");t&&(null==n||n.setAttribute("style",`background: ${t.value.avatar}`),t.continue())}};const t=document.querySelector(".game__stop-game_button"),n=document.querySelector(".game-field");let r=!1;return null==t||t.addEventListener("click",(()=>{var e,i,a,c,d,u;if(n)if(null==t?void 0:t.classList.contains("start-game"))r=!0,n.innerHTML="",new s.GameField(n).start(),r&&setTimeout((()=>{new l.Counter(this.element).countTime()}),3e4),t.innerHTML="STOP GAME",t.classList.remove("start-game"),t.classList.add("stop-game"),null===(c=document.querySelector(".menu__item_about"))||void 0===c||c.classList.remove("active"),null===(d=document.querySelector(".menu__item_score"))||void 0===d||d.classList.remove("active"),null===(u=document.querySelector(".menu__item_settings"))||void 0===u||u.classList.remove("active");else{r=!1,n.innerHTML="",new o.ScorePage(n).render(),t.innerHTML="START GAME",t.classList.add("start-game"),t.classList.remove("stop-game"),null===(e=document.querySelector(".menu__item_about"))||void 0===e||e.classList.remove("active"),null===(i=document.querySelector(".menu__item_score"))||void 0===i||i.classList.remove("active"),null===(a=document.querySelector(".menu__item_settings"))||void 0===a||a.classList.remove("active");for(let e=1;e<100;e++)clearTimeout(e)}})),this.element}}t.HeaderGame=a},497:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Avatar=void 0;const r=n(403);class i extends r.BaseComponent{avatar(){const e=document.querySelector('input[name="avatar"]');return e&&(e.onchange=e=>{const t=e.target.files[0],n=new FileReader;n.readAsDataURL(t),n.onload=e=>{var t;const n=null===(t=e.target)||void 0===t?void 0:t.result,r=document.querySelector(".register-form__avatar_pic");r.style.background=`url(${n})`,r.style.backgroundSize="cover"}}),this.element}}t.Avatar=i},395:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterForm=void 0,n(249);const r=n(403),i=n(497);class o extends r.BaseComponent{constructor(e){super("div",["overlay","hidden"]),this.rootElement=e,this.rootElement.appendChild(this.element)}render(){return this.element.innerHTML='\n    <div class="register-form" id="register-form">\n      <h1>Register new Player</h1>\n      <form id="regform">\n        <div class="register-form__wrapper">\n\n          <div class="register-form__items-field">\n            <div class="register-form__item">\n              <label for="first-name">First Name</label>\n              <input type="text" placeholder="Enter your name here" name="first-name" required>\n              <div class="first-name validate-field correct hidden">\n                <div class="validate-field__yes">✓</div>\n              </div>\n              <div class="first-name validate-field incorrect">\n                <div class="validate-field__no ">!</div>\n              </div>\n            </div>\n\n            <div class="register-form__item">\n              <label for="last-name">Last Name</label>\n              <input type="text" placeholder="Enter your last name here" name="last-name" required>\n              <div class="last-name validate-field correct hidden">\n                <div class="validate-field__yes">✓</div>\n              </div>\n              <div class="last-name validate-field incorrect">\n                <div class="validate-field__no ">!</div>\n              </div>\n            </div>\n\n            <div class="register-form__item">\n              <label for="email">E-mail</label>\n              <input type="email" placeholder="Enter your e-mail here" name="email" required>\n              <div class="email validate-field correct hidden">\n                <div class="validate-field__yes">✓</div>\n              </div>\n              <div class="email validate-field incorrect">\n                <div class="validate-field__no ">!</div>\n              </div>\n            </div>\n\n          </div>\n          <div class="register-form__avatar">\n            <label>\n              <input type="file" name="avatar" style="display: none;"/>\n              <div class="register-form__avatar_pic"></div>\n            </label>\n          </div>\n\n        </div>\n        <div id="reg-form-error-msg">\n          <div id="reg-form-fname-error-msg"></div>\n          <div id="reg-form-lname-error-msg"></div>\n          <div id="reg-form-email-error-msg"></div>\n        </div>\n        <div class="register-form__buttons">\n\n          <button type="button" class="btn add-user">ADD USER</button>\n          <button type="button" class="btn cancel">CANCEL</button>\n\n        </div>\n      </form>\n    </div>\n    ',(new i.Avatar).avatar(),this.element}}t.RegisterForm=o},269:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValidateForm=void 0;const r=n(403);class i extends r.BaseComponent{validate(){const e=document.getElementById("reg-form-fname-error-msg"),t=document.getElementById("reg-form-lname-error-msg"),n=document.getElementById("reg-form-email-error-msg"),r=document.querySelector(".add-user");r&&r.setAttribute("disabled","disabled");let i=!1,o=!1;const s=document.querySelector('input[name="first-name"]');null==s||s.addEventListener("input",(()=>{var t,n,r,i,l,a;const c=s.value.split(""),d=c.filter((e=>e.match("[^a-zA-Zа-яА-Я0-9 ]")));0===c.length||c.length>30||c.filter((e=>e.match("[0-9]"))).length===c.length?(null===(t=document.querySelector(".first-name.validate-field.correct"))||void 0===t||t.classList.add("hidden"),null===(n=document.querySelector(".first-name.validate-field.incorrect"))||void 0===n||n.classList.remove("hidden"),e&&(e.innerText="Your first name length should be from 1 to 30 characters and should not include only numbers."),o=!1):c===d||0===d.length?(null===(r=document.querySelector(".first-name.validate-field.incorrect"))||void 0===r||r.classList.add("hidden"),null===(i=document.querySelector(".first-name.validate-field.correct"))||void 0===i||i.classList.remove("hidden"),e&&(e.innerText=""),o=!0):(null===(l=document.querySelector(".first-name.validate-field.correct"))||void 0===l||l.classList.add("hidden"),null===(a=document.querySelector(".first-name.validate-field.incorrect"))||void 0===a||a.classList.remove("hidden"),e&&(e.innerText="\n            Your first name should include only letters, numbers and spaces. No special characters are allowed.\n          "),o=!1)}));let l=!1;const a=document.querySelector('input[name="last-name"]');null==a||a.addEventListener("input",(()=>{var e,n,r,i,o,s;const c=a.value.split(""),d=c.filter((e=>e.match("[^a-zA-Zа-яА-Я0-9 ]")));0===c.length||c.length>30||c.filter((e=>e.match("[0-9]"))).length===c.length?(null===(e=document.querySelector(".last-name.validate-field.correct"))||void 0===e||e.classList.add("hidden"),null===(n=document.querySelector(".last-name.validate-field.incorrect"))||void 0===n||n.classList.remove("hidden"),t&&(t.innerText="Your last name length should be from 1 to 30 characters and should not include only numbers."),l=!1):c===d||0===d.length?(null===(r=document.querySelector(".last-name.validate-field.incorrect"))||void 0===r||r.classList.add("hidden"),null===(i=document.querySelector(".last-name.validate-field.correct"))||void 0===i||i.classList.remove("hidden"),t&&(t.innerText=""),l=!0):(null===(o=document.querySelector(".last-name.validate-field.correct"))||void 0===o||o.classList.add("hidden"),null===(s=document.querySelector(".last-name.validate-field.incorrect"))||void 0===s||s.classList.remove("hidden"),t&&(t.innerText="\n            Your last name should include only letters, numbers and spaces. No special characters are allowed.\n          "),l=!1)}));let c=!1;const d=document.querySelector('input[name="email"]'),u=/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*(\.[a-zA-Z]{2,4})$/;null==d||d.addEventListener("input",(()=>{var e,t,r,i;const o=d.value;u.test(o)&&o.length<=30?(null===(e=document.querySelector(".email.validate-field.incorrect"))||void 0===e||e.classList.add("hidden"),null===(t=document.querySelector(".email.validate-field.correct"))||void 0===t||t.classList.remove("hidden"),n&&(n.innerText=""),c=!0):(null===(r=document.querySelector(".email.validate-field.correct"))||void 0===r||r.classList.add("hidden"),null===(i=document.querySelector(".email.validate-field.incorrect"))||void 0===i||i.classList.remove("hidden"),n&&(n.innerText="Type correct e-mail address."),c=!1)}));const m=document.getElementById("register-form");return null==m||m.addEventListener("input",(()=>{r&&(o&&l&&c&&(i=!0),i&&r.removeAttribute("disabled"))})),this.element}}t.ValidateForm=i},303:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderLogo=void 0,n(939);const r=n(403);class i extends r.BaseComponent{constructor(e){super("a",["logo"]),this.rootElement=e,this.element.setAttribute("href","#/"),this.logo=document.createElement("a"),this.rootElement.appendChild(this.element),this.element.innerHTML='\n      <div class="logo__top">MATCH</div>\n      <div class="logo__bottom">MATCH</div>\n  '}}t.HeaderLogo=i},72:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderMenuItemAbout=void 0;const r=n(403);class i extends r.BaseComponent{constructor(e){super("a",["menu__item","menu__item_about"]),this.rootElement=e,this.element.setAttribute("href","./#/about"),this.rootElement.appendChild(this.element),this.element.innerHTML='\n      <div class="menu__icon menu__icon_about"></div>\n      <div class="menu__title">About Game</div>\n    '}}t.HeaderMenuItemAbout=i},613:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderMenuItemScore=void 0;const r=n(403);class i extends r.BaseComponent{constructor(e){super("a",["menu__item","menu__item_score"]),this.rootElement=e,this.element.setAttribute("href","./#/score"),this.rootElement.appendChild(this.element),this.element.innerHTML='\n      <div class="menu__icon menu__icon_score"></div>\n      <div class="menu__title">Best Score</div>\n    '}}t.HeaderMenuItemScore=i},667:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderMenuItemSettings=void 0;const r=n(403);class i extends r.BaseComponent{constructor(e){super("a",["menu__item","menu__item_settings"]),this.rootElement=e,this.element.setAttribute("href","./#/settings"),this.rootElement.appendChild(this.element),this.element.innerHTML='\n      <div class="menu__icon menu__icon_settings"></div>\n      <div class="menu__title">Game Settings</div>\n    '}}t.HeaderMenuItemSettings=i},643:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderMenu=void 0,n(429);const r=n(403),i=n(72),o=n(613),s=n(667);class l extends r.BaseComponent{constructor(e){super("div",["menu"]),this.rootElement=e,this.rootElement.appendChild(this.element),this.headerMenuItemAbout=new i.HeaderMenuItemAbout(this.element),this.headerMenuItemScore=new o.HeaderMenuItemScore(this.element),this.headerMenuItemSettings=new s.HeaderMenuItemSettings(this.element)}}t.HeaderMenu=l},767:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IndexedDB=void 0,t.IndexedDB=class{render(){window.indexedDB;const e=indexedDB.open("kagerka",1);return e.onerror=()=>{},e.onsuccess=()=>{},e.onupgradeneeded=e=>{var t;const n=(null===(t=e.target)||void 0===t?void 0:t.result).createObjectStore("Contacts",{autoIncrement:!0});n.createIndex("email","email",{unique:!0}),n.createIndex("firstName","firstName",{unique:!1}),n.createIndex("lastName","lastName",{unique:!1}),n.createIndex("score","score",{unique:!1}),n.createIndex("avatar","avatar",{unique:!1})},e.onsuccess=e=>{var t;const n=null===(t=e.target)||void 0===t?void 0:t.result,r=document.querySelector(".add-user"),i=document.querySelector(".congrat-btn");null==r||r.addEventListener("click",(()=>{var e,t,r,i;const o=null===(e=document.querySelector('input[name="email"]'))||void 0===e?void 0:e.value,s=null===(t=document.querySelector('input[name="first-name"]'))||void 0===t?void 0:t.value,l=null===(r=document.querySelector('input[name="last-name"]'))||void 0===r?void 0:r.value,a=null===(i=document.querySelector(".register-form__avatar_pic"))||void 0===i?void 0:i.style.background;!function(e,t){const n=e.transaction("Contacts","readwrite"),r=n.objectStore("Contacts").put(t);r.onsuccess=()=>{},r.onerror=()=>{},n.oncomplete=()=>{e.close()}}(n,{email:o,firstName:s,lastName:l,avatar:a,score:0})})),null==i||i.addEventListener("click",(()=>{!function(e){var t,n,r;const i=e.transaction("Contacts","readwrite").objectStore("Contacts"),o=null===(t=document.getElementById("min"))||void 0===t?void 0:t.innerText,s=null===(n=document.getElementById("sec"))||void 0===n?void 0:n.innerText,l=null===(r=document.getElementById("clickDiffField"))||void 0===r?void 0:r.innerText;let a=0;o&&s&&l&&(a=100*+l-10*(60*+o+ +s),a<0&&(a=0)),i.openCursor().onsuccess=e=>{const t=e.target.result,n=i.count();let r=0;n.onsuccess=()=>{if(r=n.result,t){if(t.key===r){const e=t.value;e.score=a,t.update(e).onsuccess=()=>{}}t.continue()}}}}(n)}))},this}}},607:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{a(r.next(e))}catch(e){o(e)}}function l(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,l)}a((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),n(387);const i=n(752),o=n(977),s=n(274),l=n(363),a=n(334),c=n(767),d=document.getElementById("app");if(!d)throw Error("App root element not found");window.onload=()=>{new o.Header(d).render(),new i.App(d).render();const e=document.querySelector("main");if(!e)throw Error("App root element not found");const t=()=>r(void 0,void 0,void 0,(function*(){const t=[{path:"#/",view:()=>{new s.AboutPage(e).render()}},{path:"#/about",view:()=>{new s.AboutPage(e).render();const t=document.querySelector(".game__stop-game_button");t&&(t.innerHTML="START GAME"),null==t||t.classList.add("start-game"),null==t||t.classList.remove("stop-game")}},{path:"#/score",view:()=>{new l.ScorePage(e).render();const t=document.querySelector(".game__stop-game_button");t&&(t.innerHTML="START GAME"),null==t||t.classList.add("start-game"),null==t||t.classList.remove("stop-game")}},{path:"#/settings",view:()=>{new a.SettingsPage(e).render();const t=document.querySelector(".game__stop-game_button");t&&(t.innerHTML="START GAME"),null==t||t.classList.add("start-game"),null==t||t.classList.remove("stop-game")}}];let n=t.map((e=>({route:e,isMatch:window.location.hash===e.path}))).find((e=>e.isMatch));n||(n={route:t[0],isMatch:!0}),n.route.view()})),n=document.querySelectorAll(".menu__item");null==n||n.forEach((e=>e.addEventListener("click",(()=>{setTimeout((()=>{for(let e=0;e<n.length;e++)n[e].classList.remove("active");e.classList.contains("active")||e.classList.add("active"),t()}),0)})))),window.addEventListener("popstate",t),(new c.IndexedDB).render()}},274:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AboutPage=void 0;const r=n(403);n(754);const i=n(7);class o extends r.BaseComponent{constructor(e){super("div",["about"]),this.rootElement=e,this.about=document.createElement("div"),this.aboutTitle=document.createElement("h1"),this.aboutSteps=document.createElement("div"),this.aboutSteps.setAttribute("class","about__steps")}render(){return this.rootElement.innerHTML="",this.rootElement.appendChild(this.element),this.element.appendChild(this.aboutTitle).innerText="How to play?",this.element.appendChild(this.aboutSteps),new i.AboutStep(this.aboutSteps).render(1,"Register new player in game","first-step.png"),new i.AboutStep(this.aboutSteps).render(2,"Configure your game settings","second-step.png"),new i.AboutStep(this.aboutSteps).render(3,"Start you new game! Remember card positions and match it before times up.","third-step.png"),this.about}}t.AboutPage=o},7:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AboutStep=void 0;const r=n(403);n(754);class i extends r.BaseComponent{constructor(e){super("div",["about__step"]),this.rootElement=e,this.rootElement.appendChild(this.element),this.aboutStep=document.createElement("div")}render(e,t,n){return this.element.innerHTML=`\n    <div class="about__text">\n      <div class="about__number">${e}</div>\n      <p>${t}</p>\n    </div>\n    <div class="about__img"><img src="./images/about/${n}" alt=""></div>\n  `,this.aboutStep}}t.AboutStep=i},363:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScorePage=void 0;const r=n(403),i=n(143);n(572);class o extends r.BaseComponent{constructor(e){super("div",["score"]),this.rootElement=e,this.score=document.createElement("div"),this.scoreTitle=document.createElement("h1"),this.scoreItems=document.createElement("div"),this.scoreItems.setAttribute("class","score__players")}render(){return this.rootElement.innerHTML="",this.rootElement.appendChild(this.element),this.element.appendChild(this.scoreTitle).innerText="Best players",this.element.appendChild(this.scoreItems),new i.ScoreItem(this.scoreItems).render(),this.score}}t.ScorePage=o},143:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScoreItem=void 0;const r=n(403);class i extends r.BaseComponent{constructor(e){super("div",["score__player"]),this.rootElement=e,this.rootElement.appendChild(this.element),this.scoreItem=document.createElement("div")}render(){const e=document.querySelector(".score__players");window.indexedDB;const t=indexedDB.open("kagerka",1);return t.onerror=()=>{},t.onsuccess=()=>{!function(){e&&(e.innerHTML="");const n=t.result.transaction("Contacts").objectStore("Contacts");let r=0;n.index("score").openCursor(null,"prev").onsuccess=t=>{const n=t.target.result;if(n&&r<10){r++;const t=document.createElement("div");t.classList.add("score__player"),t.innerHTML=`\n          <div class="score__player_info">\n            <div class="score__player_pic" style='background: ${n.value.avatar}'></div>\n            <div class="score__player_contacts">\n              <div class="score__player_name">${n.value.firstName} ${n.value.lastName}</div>\n              <div class="score__player_email">${n.value.email}</div>\n            </div>\n          </div>\n          <div class="score__player_score">Score:  <span>${n.value.score}</span></div>\n        `,null==e||e.appendChild(t),n.continue()}}}()},this.scoreItem}}t.ScoreItem=i},334:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsPage=void 0;const r=n(403);n(27);class i extends r.BaseComponent{constructor(e){super("div",["settings"]),this.rootElement=e,this.settings=document.createElement("div")}render(){this.rootElement.innerHTML="",this.rootElement.appendChild(this.element),this.element.innerHTML='\n      <h1>Game settings</h1>\n      <div class="settings__menu">\n        <div class="settings__item">\n          <h2>Game cards</h2>\n          <select id="card-type" onchange="SaveSelectValue(this)">\n            <option value="0">select game cards type</option>\n            <option value="1">Animals</option>\n            <option value="2">Flowers</option>\n          </select>\n        </div>\n        <div class="settings__item">\n          <h2>Difficulty</h2>\n          <select id="count-type" onchange="SaveSelectValue(this)">\n            <option value="0">select game type</option>\n            <option value="1">3 x 4</option>\n            <option value="2">4 x 4</option>\n            <option value="3">4 x 5</option>\n            <option value="4">4 x 6</option>\n          </select>\n        </div>\n      </div>\n    ';const e=document.querySelector("#count-type");let t=localStorage.getItem("countType");t&&(e.value=t),e.onchange=()=>{t=e.options[e.selectedIndex].value,localStorage.setItem("countType",t)};const n=document.querySelector("#card-type");let r=localStorage.getItem("cardType");r&&(n.value=r),n.onchange=()=>{r=n.options[n.selectedIndex].value,localStorage.setItem("cardType",r)}}}t.SettingsPage=i},680:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise((t=>{setTimeout(t,e)}))}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(607)})();