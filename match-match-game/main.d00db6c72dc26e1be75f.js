(()=>{"use strict";var e={76:(e,t,n)=>{n.r(t)},80:(e,t,n)=>{n.r(t)},528:(e,t,n)=>{n.r(t)},418:(e,t,n)=>{n.r(t)},249:(e,t,n)=>{n.r(t)},939:(e,t,n)=>{n.r(t)},429:(e,t,n)=>{n.r(t)},754:(e,t,n)=>{n.r(t)},572:(e,t,n)=>{n.r(t)},27:(e,t,n)=>{n.r(t)},387:(e,t,n)=>{n.r(t)},752:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const i=n(403),s=n(274),r=n(677);class o extends i.BaseComponent{constructor(e){super("main",["game-field"]),this.rootElement=e,this.main=document.createElement("main")}clear(){this.element.innerHTML=""}render(){this.rootElement.appendChild(this.element),new s.AboutPage(this.element).render();const e=document.querySelector(".game__register_button"),t=document.querySelector(".overlay");return null==e||e.addEventListener("click",(()=>{null==t||t.classList.remove("hidden")})),null==t||t.addEventListener("click",(e=>{e.target&&((e.target.classList.contains("overlay")||e.target.classList.contains("cancel"))&&t.classList.add("hidden"),e.target.classList.contains("add-user")&&(t.classList.add("hidden"),this.element.innerHTML="",new r.GameField(this.element).start()))})),this.main}}t.App=o},403:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseComponent=void 0,t.BaseComponent=class{constructor(e="div",t=[]){this.element=document.createElement(e),this.element.classList.add(...t)}}},977:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Card=void 0,n(76);const i=n(403);class s extends i.BaseComponent{constructor(e){super("div",["card-container"]),this.image=e,this.isFlipped=!1,this.element.innerHTML=`\n      <div class="card">\n        <div class="card__front" style="background-image: url('./images/${e}'")></div>\n        <div class="card__back"></div>\n      </div>\n    `}flipToBack(){return this.isFlipped=!0,this.flip(!0)}flipToFront(){return this.isFlipped=!1,this.flip()}flip(e=!1){return new Promise((t=>{this.element.classList.toggle("flipped",e),this.element.addEventListener("transitionend",(()=>t()),{once:!0})}))}}t.Card=s},610:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CardsField=void 0,n(80);const i=n(403);class s extends i.BaseComponent{constructor(){super("div",["cards-field"]),this.cards=[]}clear(){this.cards=[],this.element.innerHTML=""}addCards(e){this.cards=e,this.cards.forEach((e=>this.element.appendChild(e.element))),setTimeout((()=>{this.cards.forEach((e=>e.flipToBack()))}),1e3)}}t.CardsField=s},677:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{d(i.next(e))}catch(e){r(e)}}function a(e){try{d(i.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GameField=void 0;const s=n(229);t.GameField=class{constructor(e){this.rootElement=e,this.game=new s.Game,this.rootElement.appendChild(this.game.element)}start(){return i(this,void 0,void 0,(function*(){const e=yield fetch("./images.json"),t=(yield e.json())[0],n=t.images.map((e=>`${t.category}/${e}`));this.game.newGame(n)}))}}},229:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{d(i.next(e))}catch(e){r(e)}}function a(e){try{d(i.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;const s=n(680),r=n(403),o=n(977),a=n(610);class d extends r.BaseComponent{constructor(){super(),this.isAnimation=!1,this.cardsField=new a.CardsField,this.element.appendChild(this.cardsField.element)}newGame(e){this.cardsField.clear();const t=e.concat(e).map((e=>new o.Card(e))).sort((()=>Math.random()-.5));t.forEach((e=>{e.element.addEventListener("click",(()=>this.cardHandler(e)))})),this.cardsField.addCards(t)}cardHandler(e){return i(this,void 0,void 0,(function*(){if(!this.isAnimation&&e.isFlipped){if(this.isAnimation=!0,yield e.flipToFront(),!this.activeCard)return this.activeCard=e,void(this.isAnimation=!1);this.activeCard.image!==e.image&&(yield s.delay(1e3),yield Promise.all([this.activeCard.flipToBack(),e.flipToBack()])),this.activeCard=void 0,this.isAnimation=!1}}))}}t.Game=d},366:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0,n(528);const i=n(403),s=n(303),r=n(643),o=n(419);class a extends i.BaseComponent{constructor(e){super("header",["header"]),this.rootElement=e,this.header=document.createElement("header"),this.headerLogo=new s.HeaderLogo(this.element),this.headerMenu=new r.HeaderMenu(this.element)}render(){return this.rootElement.appendChild(this.element),this.element.appendChild(this.headerLogo.element),this.element.appendChild(this.headerMenu.element),new o.HeaderGame(this.element).render(),this.header}}t.Header=a},419:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderGame=void 0,n(418);const i=n(403),s=n(395),r=n(363);class o extends i.BaseComponent{constructor(e){super("div",["game"]),this.rootElement=e,this.rootElement.appendChild(this.element)}render(){let e=!1;new o(this.element).notRegistered(),new s.RegisterForm(this.element).render();const t=document.querySelector(".overlay");return null==t||t.addEventListener("click",(t=>{t.target&&((t.target.classList.contains("overlay")||t.target.classList.contains("cancel"))&&(e=!1),t.target.classList.contains("add-user")&&(e=!0,this.element.innerHTML="",new o(this.element).registered()))})),this.element}notRegistered(){return this.element.innerHTML='\n      <div class="game__register_button">REGISTER NEW PLAYER</div>\n    ',this.element}registered(){this.element.innerHTML='\n      <div class="game__stop-game_button">STOP GAME</div>\n      <div class="game__user"></div>\n    ';const e=document.querySelector(".game__stop-game_button"),t=document.querySelector(".game-field");return null==e||e.addEventListener("click",(()=>{t&&(t.innerHTML="",new r.ScorePage(t).render())})),this.element}}t.HeaderGame=o},395:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterForm=void 0,n(249);const i=n(403);class s extends i.BaseComponent{constructor(e){super("div",["overlay","hidden"]),this.rootElement=e,this.rootElement.appendChild(this.element)}render(){return this.element.innerHTML='\n\n    <div class="register-form" id="register-form">\n      <h1>Register new Player</h1>\n      <form action="">\n        <div class="register-form__wrapper">\n\n          <div class="register-form__items-field">\n            <div class="register-form__item">\n              <label for="first-name">First Name</label>\n              <input type="text" placeholder="Enter your name here" name="first-name" required>\n              <div class="validate-field correct">\n                <div class="validate-field__yes">✓</div>\n              </div>\n              <div class="validate-field incorrect hidden">\n                <div class="validate-field__no ">!</div>\n              </div>\n            </div>\n\n            <div class="register-form__item">\n              <label for="last-name">Last Name</label>\n              <input type="text" placeholder="Enter your last name here" name="last-name" required>\n              <div class="validate-field correct">\n                <div class="validate-field__yes">✓</div>\n              </div>\n              <div class="validate-field incorrect hidden">\n                <div class="validate-field__no ">!</div>\n              </div>\n            </div>\n\n            <div class="register-form__item">\n              <label for="email">E-mail</label>\n              <input type="email" placeholder="Enter your e-mail here" name="email" required>\n              <div class="validate-field correct">\n                <div class="validate-field__yes">✓</div>\n              </div>\n              <div class="validate-field incorrect hidden">\n                <div class="validate-field__no ">!</div>\n              </div>\n            </div>\n          </div>\n          <div class="register-form__avatar">\n            <div class="register-form__avatar_pic"></div>\n          </div>\n        </div>\n        <div class="register-form__buttons">\n\n          <button type="submit" class="btn add-user">ADD USER</button>\n          <button type="button" class="btn cancel">CANCEL</button>\n\n        </div>\n      </form>\n    </div>\n    ',this.element}}t.RegisterForm=s},303:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderLogo=void 0,n(939);const i=n(403);class s extends i.BaseComponent{constructor(e){super("a",["logo"]),this.rootElement=e,this.element.setAttribute("href","#/"),this.logo=document.createElement("a"),this.rootElement.appendChild(this.element),this.element.innerHTML='\n      <div class="logo__top">MATCH</div>\n      <div class="logo__bottom">MATCH</div>\n  '}}t.HeaderLogo=s},72:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderMenuItemAbout=void 0;const i=n(403);class s extends i.BaseComponent{constructor(e){super("a",["menu__item","menu__item_about"]),this.rootElement=e,this.element.setAttribute("href","/#/about"),this.element.setAttribute("data-link",""),this.rootElement.appendChild(this.element),this.element.innerHTML='\n      <div class="menu__icon menu__icon_about"></div>\n      <div class="menu__title">About Game</div>\n    '}}t.HeaderMenuItemAbout=s},613:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderMenuItemScore=void 0;const i=n(403);class s extends i.BaseComponent{constructor(e){super("a",["menu__item","menu__item_score"]),this.rootElement=e,this.element.setAttribute("href","/#/score"),this.element.setAttribute("data-link",""),this.rootElement.appendChild(this.element),this.element.innerHTML='\n      <div class="menu__icon menu__icon_score"></div>\n      <div class="menu__title">Best Score</div>\n    '}}t.HeaderMenuItemScore=s},667:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderMenuItemSettings=void 0;const i=n(403);class s extends i.BaseComponent{constructor(e){super("a",["menu__item","menu__item_settings"]),this.rootElement=e,this.element.setAttribute("href","./#/settings"),this.element.setAttribute("data-link",""),this.rootElement.appendChild(this.element),this.element.innerHTML='\n      <div class="menu__icon menu__icon_settings"></div>\n      <div class="menu__title">Game Settings</div>\n    '}}t.HeaderMenuItemSettings=s},643:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderMenu=void 0,n(429);const i=n(403),s=n(72),r=n(613),o=n(667);class a extends i.BaseComponent{constructor(e){super("div",["menu"]),this.rootElement=e,this.rootElement.appendChild(this.element),this.headerMenuItemAbout=new s.HeaderMenuItemAbout(this.element),this.headerMenuItemScore=new r.HeaderMenuItemScore(this.element),this.headerMenuItemSettings=new o.HeaderMenuItemSettings(this.element)}}t.HeaderMenu=a},607:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{d(i.next(e))}catch(e){r(e)}}function a(e){try{d(i.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),n(387);const s=n(752),r=n(366),o=n(274),a=n(363),d=n(334),l=document.getElementById("app");if(!l)throw Error("App root element not found");window.onload=()=>{new r.Header(l).render(),new s.App(l).render();const e=document.querySelector("main");if(!e)throw Error("App root element not found");const t=()=>i(void 0,void 0,void 0,(function*(){const t=[{path:"#/",view:()=>{new o.AboutPage(e).render()}},{path:"#/about",view:()=>{new o.AboutPage(e).render()}},{path:"#/score",view:()=>{new a.ScorePage(e).render()}},{path:"#/settings",view:()=>{new d.SettingsPage(e).render()}}];let n=t.map((e=>({route:e,isMatch:window.location.hash===e.path}))).find((e=>e.isMatch));n||(n={route:t[0],isMatch:!0}),n.route.view()})),n=document.querySelectorAll(".menu__item");null==n||n.forEach((e=>e.addEventListener("click",(i=>{setTimeout((()=>{for(let e=0;e<n.length;e++)n[e].classList.remove("active");e.classList.contains("active")||e.classList.add("active"),t()}),0)})))),window.addEventListener("popstate",t)}},274:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AboutPage=void 0;const i=n(403);n(754);class s extends i.BaseComponent{constructor(e){super("div",["about"]),this.rootElement=e,this.about=document.createElement("div")}render(){return this.rootElement.innerHTML="",this.rootElement.appendChild(this.element),this.element.innerHTML='\n      <h1>How to play?</h1>\n      <div class="about__steps">\n        <div class="about__step about__first-step">\n          <div class="about__text">\n            <div class="about__number">1</div>\n            <p>Register new player in game</p>\n          </div>\n          <div class="about__img"><img src="./images/about/first-step.png" alt=""></div>\n        </div>\n        <div class="about__step about__second-step">\n          <div class="about__text">\n            <div class="about__number">2</div>\n            <p>Configure your game settings</p>\n          </div>\n          <div class="about__img"><img src="./images/about/second-step.png" alt=""></div>\n        </div>\n        <div class="about__step about__third-step">\n          <div class="about__text">\n            <div class="about__number">3</div>\n            <p>Start you new game! Remember card positions and match it before times up.</p>\n          </div>\n          <div class="about__img"><img src="./images/about/third-step.png" alt=""></div>\n        </div>\n      </div>\n    ',this.about}}t.AboutPage=s},363:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScorePage=void 0;const i=n(403);n(572);class s extends i.BaseComponent{constructor(e){super("div",["score"]),this.rootElement=e,this.score=document.createElement("div")}render(){return this.rootElement.innerHTML="",this.rootElement.appendChild(this.element),this.element.innerHTML='\n      <h1>Best players</h1>\n      <div class="score__players">\n        <div class="score__player">\n          <div class="score__player_info">\n            <div class="score__player_pic"></div>\n            <div class="score__player_contacts">\n              <div class="score__player_name">Nicci Troiani</div>\n              <div class="score__player_email">nicci@gmail.com</div>\n            </div>\n          </div>\n          <div class="score__player_score">Score:  <span>456</span></div>\n        </div>\n      </div>\n    ',this.score}}t.ScorePage=s},334:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsPage=void 0;const i=n(403);n(27);class s extends i.BaseComponent{constructor(e){super("div",["settings"]),this.rootElement=e,this.settings=document.createElement("div")}render(){return this.rootElement.innerHTML="",this.rootElement.appendChild(this.element),this.element.innerHTML='\n      <h1>Game settings</h1>\n      <div class="settings__menu">\n        <div class="settings__item">\n          <h2>Game cards</h2>\n          <select>\n            <option value="0">select game cards type</option>\n            <option value="1">Animals</option>\n            <option value="2">Flowers</option>\n          </select>\n        </div>\n        <div class="settings__item">\n          <h2>Difficulty</h2>\n          <select>\n            <option value="0">select game type</option>\n            <option value="1">3 x 4</option>\n            <option value="2">4 x 4</option>\n            <option value="3">4 x 5</option>\n            <option value="4">6 x 6</option>\n          </select>\n        </div>\n      </div>\n    ',this.settings}}t.SettingsPage=s},680:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise((t=>{setTimeout(t,e)}))}}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(607)})();