(()=>{"use strict";var e={76:(e,t,n)=>{n.r(t)},80:(e,t,n)=>{n.r(t)},282:(e,t,n)=>{n.r(t)},922:(e,t,n)=>{n.r(t)},528:(e,t,n)=>{n.r(t)},418:(e,t,n)=>{n.r(t)},249:(e,t,n)=>{n.r(t)},939:(e,t,n)=>{n.r(t)},429:(e,t,n)=>{n.r(t)},754:(e,t,n)=>{n.r(t)},572:(e,t,n)=>{n.r(t)},27:(e,t,n)=>{n.r(t)},387:(e,t,n)=>{n.r(t)},752:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const i=n(403),s=n(274),r=n(269);class o extends i.BaseComponent{constructor(e){super("main",["game-field"]),this.rootElement=e,this.main=document.createElement("main")}clear(){this.element.innerHTML=""}render(){this.rootElement.appendChild(this.element),new s.AboutPage(this.element).render();const e=document.querySelector(".game__register_button"),t=document.querySelector(".overlay");return null==e||e.addEventListener("click",(()=>{null==t||t.classList.remove("hidden")})),(new r.ValidateForm).validate(),null==t||t.addEventListener("click",(e=>{var n,i;if(e.target){if(e.target.classList.contains("overlay"))t.classList.add("hidden");else if(e.target.classList.contains("cancel")){const e=t.querySelectorAll("input");if(e)for(let t=0;t<e.length;t++)e[t].value="",null===(n=document.querySelector(".first-name.validate-field.correct"))||void 0===n||n.classList.add("hidden"),null===(i=document.querySelector(".first-name.validate-field.incorrect"))||void 0===i||i.classList.remove("hidden");t.classList.add("hidden")}e.target.classList.contains("add-user")&&(t.classList.add("hidden"),this.element.innerHTML="",new s.AboutPage(this.element).render())}})),this.main}}t.App=o},403:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseComponent=void 0,t.BaseComponent=class{constructor(e="div",t=[]){this.element=document.createElement(e),this.element.classList.add(...t)}}},343:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Card=void 0,n(76);const i=n(403);class s extends i.BaseComponent{constructor(e){super("div",["card-container"]),this.image=e,this.isFlipped=!1,this.element.innerHTML=`\n      <div class="card">\n        <div class="card__front" style="background-image: url('./images/${e}'")></div>\n        <div class="card__back"></div>\n      </div>\n    `}flipToBack(){return this.isFlipped=!0,this.flip(!0)}flipToFront(){return this.isFlipped=!1,this.flip()}flip(e=!1){return new Promise((t=>{this.element.classList.toggle("flipped",e),this.element.addEventListener("transitionend",(()=>t()),{once:!0})}))}}t.Card=s},610:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CardsField=void 0,n(80);const i=n(403),s=n(954),r=n(773);class o extends i.BaseComponent{constructor(){super("div",["cards-field"]),this.cards=[]}clear(){this.cards=[],this.element.innerHTML=""}addCards(e){this.cards=e,this.cards.forEach((e=>this.element.appendChild(e.element))),setTimeout((()=>{this.cards.forEach((e=>e.flipToBack())),new s.Counter(this.element).countTime(),(new r.ClickCount).clickCounter()}),3e4)}}t.CardsField=o},509:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Congrat=void 0,n(282);const i=n(403),s=n(363);class r extends i.BaseComponent{constructor(e){super("div",["overlay"]),this.rootElement=e,this.rootElement.appendChild(this.element)}render(){var e,t;const n=null===(e=document.getElementById("min"))||void 0===e?void 0:e.innerText,i=null===(t=document.getElementById("sec"))||void 0===t?void 0:t.innerText;return this.element.innerHTML=`\n      <div class="congrat">\n        <p>Congratulations! You successfully found all matches on ${n}.${i} minutes.</p>\n        <button class="btn congrat-btn">OK</button>\n      </div>`,this.element.addEventListener("click",(()=>{const e=document.querySelector("main");e&&(e.innerHTML=""),new s.ScorePage(e).render();const t=document.querySelector(".game__stop-game_button");t&&(t.innerHTML="START GAME",t.classList.add("start-game"))})),this.element}}t.Congrat=r},954:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Counter=void 0,n(922);const i=n(403),s=n(509),r=n(767);class o extends i.BaseComponent{constructor(e){super("div",["counter"]),this.rootElement=e,this.rootElement.appendChild(this.element)}render(){return this.element.innerHTML='\n      <div id="timer">\n        <span id="min">00</span>:<span id="sec">00</span><span id="clickDiffField"></span>\n      </div>',this.element}countTime(){const e=document.querySelector("#min"),t=document.querySelector("#sec");let n,i=0,o=!1;function a(e){return e<10?`0${e}`:e}return document.addEventListener("click",(function(){if(0===document.querySelectorAll(".flipped").length){if(!o)return;o=!1,clearInterval(n);const e=document.querySelector("main");setTimeout((()=>{new s.Congrat(e).render(),(new r.IndexedDB).render()}),1500)}})),o||(o=!0,n=setInterval((function(){i++;const n=Math.floor(i/60),s=i%60;e&&(e.innerHTML=a(n)),t&&(t.innerHTML=a(s))}),1e3)),this.element}}t.Counter=o},677:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GameField=void 0;const s=n(229),r=n(954);t.GameField=class{constructor(e){this.rootElement=e,this.game=new s.Game,this.rootElement.appendChild(this.game.element)}start(){return i(this,void 0,void 0,(function*(){new r.Counter(this.rootElement).render();const e=yield fetch("./images.json"),t=(yield e.json())[0],n=t.images.map((e=>`${t.category}/${e}`));this.game.newGame(n)}))}}},773:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ClickCount=void 0,t.ClickCount=class{clickCounter(){const e=document.querySelector(".cards-field");let t,n,i=0,s=0,r=0;return null==e||e.addEventListener("click",(e=>{var o,a;e.target instanceof HTMLElement&&(i++,e.target.classList.contains("card__back")&&i%2==1&&!e.target.classList.contains("clicked")?(e.target.classList.add("clicked","firstClick"),t=document.querySelector(".card__back.clicked.firstClick"),null===(o=null==t?void 0:t.previousElementSibling)||void 0===o||o.classList.add("clicked","firstClick"),t=document.querySelector(".card__front.clicked.firstClick"),e.target.classList.remove("clicked","firstClick")):e.target.classList.contains("card__back")&&i%2==0&&!e.target.classList.contains("clicked")&&(e.target.classList.add("clicked","secondClick"),n=document.querySelector(".card__back.clicked.secondClick"),null===(a=null==n?void 0:n.previousElementSibling)||void 0===a||a.classList.add("clicked","secondClick"),n=document.querySelector(".card__front.clicked.secondClick"),e.target.classList.remove("clicked","secondClick"),i=0),0===i?(null==t?void 0:t.style.backgroundImage)===(null==n?void 0:n.style.backgroundImage)?(r++,setTimeout((()=>{null==t||t.classList.remove("clicked","firstClick"),null==n||n.classList.remove("clicked","secondClick")}),0)):(null==t?void 0:t.style.backgroundImage)!==(null==n?void 0:n.style.backgroundImage)&&(s++,r++,setTimeout((()=>{null==t||t.classList.remove("clicked","firstClick"),null==n||n.classList.remove("clicked","secondClick")}),0)):(null==t||t.classList.remove("clicked","firstClick"),null==n||n.classList.remove("clicked","secondClick")));const l=r-s,d=document.getElementById("clickDiffField");d&&(d.innerHTML=l.toString())})),this}}},229:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;const s=n(680),r=n(403),o=n(343),a=n(610);class l extends r.BaseComponent{constructor(){super(),this.isAnimation=!1,this.cardsField=new a.CardsField,this.element.appendChild(this.cardsField.element)}newGame(e){this.cardsField.clear();const t=e.concat(e).map((e=>new o.Card(e))).sort((()=>Math.random()-.5));t.forEach((e=>{e.element.addEventListener("click",(()=>{this.cardHandler(e)}))})),this.cardsField.addCards(t)}cardHandler(e){return i(this,void 0,void 0,(function*(){if(!this.isAnimation&&e.isFlipped){if(this.isAnimation=!0,yield e.flipToFront(),!this.activeCard)return this.activeCard=e,void(this.isAnimation=!1);this.activeCard.image!==e.image?(this.activeCard.element.getElementsByTagName("div")[0].getElementsByTagName("div")[0].classList.add("incorrect"),e.element.getElementsByTagName("div")[0].getElementsByTagName("div")[0].classList.add("incorrect"),yield s.delay(1e3),yield Promise.all([this.activeCard.flipToBack(),e.flipToBack()]),this.activeCard.element.getElementsByTagName("div")[0].getElementsByTagName("div")[0].classList.remove("incorrect"),e.element.getElementsByTagName("div")[0].getElementsByTagName("div")[0].classList.remove("incorrect")):(this.activeCard.element.getElementsByTagName("div")[0].getElementsByTagName("div")[0].classList.add("correct"),e.element.getElementsByTagName("div")[0].getElementsByTagName("div")[0].classList.add("correct")),this.activeCard=void 0,this.isAnimation=!1}}))}}t.Game=l},977:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0,n(528);const i=n(403),s=n(303),r=n(643),o=n(419);class a extends i.BaseComponent{constructor(e){super("header",["header"]),this.rootElement=e,this.header=document.createElement("header"),this.headerLogo=new s.HeaderLogo(this.element),this.headerMenu=new r.HeaderMenu(this.element)}render(){return this.rootElement.appendChild(this.element),this.element.appendChild(this.headerLogo.element),this.element.appendChild(this.headerMenu.element),new o.HeaderGame(this.element).render(),this.header}}t.Header=a},419:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderGame=void 0,n(418);const i=n(403),s=n(395),r=n(363),o=n(677);class a extends i.BaseComponent{constructor(e){super("div",["game"]),this.rootElement=e,this.rootElement.appendChild(this.element)}render(){new a(this.element).notRegistered(),new s.RegisterForm(this.element).render();const e=document.querySelector(".overlay");return null==e||e.addEventListener("click",(e=>{if(e.target&&e.target.classList.contains("add-user")){this.element.innerHTML="",new a(this.element).registered();const e=document.querySelector(".game__stop-game_button");e&&!(null==e?void 0:e.classList.contains("start-game"))&&(e.innerHTML="START GAME",e.classList.add("start-game"))}})),this.element}notRegistered(){return this.element.innerHTML='\n      <div class="game__register_button">REGISTER NEW PLAYER</div>\n    ',this.element}registered(){this.element.innerHTML='\n      <div class="game__stop-game_button">START GAME</div>\n      <div class="game__user"></div>\n    ';const e=document.querySelector(".game__stop-game_button"),t=document.querySelector(".game-field");return null==e||e.addEventListener("click",(()=>{t&&((null==e?void 0:e.classList.contains("start-game"))?(t.innerHTML="",new o.GameField(t).start(),e.innerHTML="STOP GAME",e.classList.remove("start-game")):(t.innerHTML="",new r.ScorePage(t).render(),e.innerHTML="START GAME",e.classList.add("start-game")))})),this.element}}t.HeaderGame=a},395:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterForm=void 0,n(249);const i=n(403);class s extends i.BaseComponent{constructor(e){super("div",["overlay","hidden"]),this.rootElement=e,this.rootElement.appendChild(this.element)}render(){return this.element.innerHTML='\n    <div class="register-form" id="register-form">\n      <h1>Register new Player</h1>\n      <form id="regform">\n        <div class="register-form__wrapper">\n\n          <div class="register-form__items-field">\n            <div class="register-form__item">\n              <label for="first-name">First Name</label>\n              <input type="text" placeholder="Enter your name here" name="first-name" required>\n              <div class="first-name validate-field correct hidden">\n                <div class="validate-field__yes">✓</div>\n              </div>\n              <div class="first-name validate-field incorrect">\n                <div class="validate-field__no ">!</div>\n              </div>\n            </div>\n\n            <div class="register-form__item">\n              <label for="last-name">Last Name</label>\n              <input type="text" placeholder="Enter your last name here" name="last-name" required>\n              <div class="last-name validate-field correct hidden">\n                <div class="validate-field__yes">✓</div>\n              </div>\n              <div class="last-name validate-field incorrect">\n                <div class="validate-field__no ">!</div>\n              </div>\n            </div>\n\n            <div class="register-form__item">\n              <label for="email">E-mail</label>\n              <input type="email" placeholder="Enter your e-mail here" name="email" required>\n              <div class="email validate-field correct hidden">\n                <div class="validate-field__yes">✓</div>\n              </div>\n              <div class="email validate-field incorrect">\n                <div class="validate-field__no ">!</div>\n              </div>\n            </div>\n\n          </div>\n          <div class="register-form__avatar">\n            <div class="register-form__avatar_pic"></div>\n          </div>\n\n        </div>\n        <div id="reg-form-error-msg">\n          <div id="reg-form-fname-error-msg"></div>\n          <div id="reg-form-lname-error-msg"></div>\n          <div id="reg-form-email-error-msg"></div>\n        </div>\n        <div class="register-form__buttons">\n\n          <button type="button" class="btn add-user">ADD USER</button>\n          <button type="button" class="btn cancel">CANCEL</button>\n\n        </div>\n      </form>\n    </div>\n    ',this.element}}t.RegisterForm=s},269:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValidateForm=void 0;const i=n(403);class s extends i.BaseComponent{validate(){const e=document.getElementById("reg-form-fname-error-msg"),t=document.getElementById("reg-form-lname-error-msg"),n=document.getElementById("reg-form-email-error-msg"),i=document.querySelector(".add-user");i&&i.setAttribute("disabled","disabled");let s=!1,r=!1;const o=document.querySelector('input[name="first-name"]');null==o||o.addEventListener("input",(()=>{var t,n,i,s,a,l;const d=o.value.split(""),c=d.filter((e=>e.match("[^a-zA-Zа-яА-Я0-9 ]")));0===d.length||d.length>30?(null===(t=document.querySelector(".first-name.validate-field.correct"))||void 0===t||t.classList.add("hidden"),null===(n=document.querySelector(".first-name.validate-field.incorrect"))||void 0===n||n.classList.remove("hidden"),e&&(e.innerText="Your first name length should be from 1 to 30 characters."),r=!1):d===c||0===c.length?(null===(i=document.querySelector(".first-name.validate-field.incorrect"))||void 0===i||i.classList.add("hidden"),null===(s=document.querySelector(".first-name.validate-field.correct"))||void 0===s||s.classList.remove("hidden"),e&&(e.innerText=""),r=!0):(null===(a=document.querySelector(".first-name.validate-field.correct"))||void 0===a||a.classList.add("hidden"),null===(l=document.querySelector(".first-name.validate-field.incorrect"))||void 0===l||l.classList.remove("hidden"),e&&(e.innerText="Your first name should include only letters, numbers and spaces. No special characters are allowed."),r=!1)}));let a=!1;const l=document.querySelector('input[name="last-name"]');null==l||l.addEventListener("input",(()=>{var e,n,i,s,r,o;const d=l.value.split(""),c=d.filter((e=>e.match("[^a-zA-Zа-яА-Я0-9 ]")));0===d.length||d.length>30?(null===(e=document.querySelector(".last-name.validate-field.correct"))||void 0===e||e.classList.add("hidden"),null===(n=document.querySelector(".last-name.validate-field.incorrect"))||void 0===n||n.classList.remove("hidden"),t&&(t.innerText="Your last name length should be from 1 to 30 characters."),a=!1):d===c||0===c.length?(null===(i=document.querySelector(".last-name.validate-field.incorrect"))||void 0===i||i.classList.add("hidden"),null===(s=document.querySelector(".last-name.validate-field.correct"))||void 0===s||s.classList.remove("hidden"),t&&(t.innerText=""),a=!0):(null===(r=document.querySelector(".last-name.validate-field.correct"))||void 0===r||r.classList.add("hidden"),null===(o=document.querySelector(".last-name.validate-field.incorrect"))||void 0===o||o.classList.remove("hidden"),t&&(t.innerText="Your last name should include only letters, numbers and spaces. No special characters are allowed."),a=!1)}));let d=!1;const c=document.querySelector('input[name="email"]'),u=/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*(\.[a-zA-Z]{2,4})$/;null==c||c.addEventListener("input",(()=>{var e,t,i,s;const r=c.value;u.test(r)?(null===(e=document.querySelector(".email.validate-field.incorrect"))||void 0===e||e.classList.add("hidden"),null===(t=document.querySelector(".email.validate-field.correct"))||void 0===t||t.classList.remove("hidden"),n&&(n.innerText=""),d=!0):(null===(i=document.querySelector(".email.validate-field.correct"))||void 0===i||i.classList.add("hidden"),null===(s=document.querySelector(".email.validate-field.incorrect"))||void 0===s||s.classList.remove("hidden"),n&&(n.innerText="Type correct e-mail address."),d=!1)}));const m=document.getElementById("register-form");return null==m||m.addEventListener("input",(()=>{i&&(r&&a&&d&&(s=!0),s&&i.removeAttribute("disabled"))})),this.element}}t.ValidateForm=s},303:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderLogo=void 0,n(939);const i=n(403);class s extends i.BaseComponent{constructor(e){super("a",["logo"]),this.rootElement=e,this.element.setAttribute("href","#/"),this.logo=document.createElement("a"),this.rootElement.appendChild(this.element),this.element.innerHTML='\n      <div class="logo__top">MATCH</div>\n      <div class="logo__bottom">MATCH</div>\n  '}}t.HeaderLogo=s},72:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderMenuItemAbout=void 0;const i=n(403);class s extends i.BaseComponent{constructor(e){super("a",["menu__item","menu__item_about"]),this.rootElement=e,this.element.setAttribute("href","./#/about"),this.rootElement.appendChild(this.element),this.element.innerHTML='\n      <div class="menu__icon menu__icon_about"></div>\n      <div class="menu__title">About Game</div>\n    '}}t.HeaderMenuItemAbout=s},613:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderMenuItemScore=void 0;const i=n(403);class s extends i.BaseComponent{constructor(e){super("a",["menu__item","menu__item_score"]),this.rootElement=e,this.element.setAttribute("href","./#/score"),this.rootElement.appendChild(this.element),this.element.innerHTML='\n      <div class="menu__icon menu__icon_score"></div>\n      <div class="menu__title">Best Score</div>\n    '}}t.HeaderMenuItemScore=s},667:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderMenuItemSettings=void 0;const i=n(403);class s extends i.BaseComponent{constructor(e){super("a",["menu__item","menu__item_settings"]),this.rootElement=e,this.element.setAttribute("href","./#/settings"),this.rootElement.appendChild(this.element),this.element.innerHTML='\n      <div class="menu__icon menu__icon_settings"></div>\n      <div class="menu__title">Game Settings</div>\n    '}}t.HeaderMenuItemSettings=s},643:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderMenu=void 0,n(429);const i=n(403),s=n(72),r=n(613),o=n(667);class a extends i.BaseComponent{constructor(e){super("div",["menu"]),this.rootElement=e,this.rootElement.appendChild(this.element),this.headerMenuItemAbout=new s.HeaderMenuItemAbout(this.element),this.headerMenuItemScore=new r.HeaderMenuItemScore(this.element),this.headerMenuItemSettings=new o.HeaderMenuItemSettings(this.element)}}t.HeaderMenu=a},767:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IndexedDB=void 0,t.IndexedDB=class{render(){window.indexedDB||console.log("Your browser doesn't support IndexedDB");const e=indexedDB.open("kagerka",1);return e.onerror=e=>{console.error(`Database error: ${e.target}`)},e.onsuccess=()=>{},e.onupgradeneeded=e=>{var t;const n=(null===(t=e.target)||void 0===t?void 0:t.result).createObjectStore("Contacts",{autoIncrement:!0});n.createIndex("email","email",{unique:!0}),n.createIndex("firstName","firstName",{unique:!1}),n.createIndex("lastName","lastName",{unique:!1}),n.createIndex("score","score",{unique:!1})},e.onsuccess=e=>{var t;const n=null===(t=e.target)||void 0===t?void 0:t.result,i=document.querySelector(".add-user"),s=document.querySelector(".congrat-btn");null==i||i.addEventListener("click",(()=>{var e,t,i;const s=null===(e=document.querySelector('input[name="email"]'))||void 0===e?void 0:e.value,r=null===(t=document.querySelector('input[name="first-name"]'))||void 0===t?void 0:t.value,o=null===(i=document.querySelector('input[name="last-name"]'))||void 0===i?void 0:i.value;!function(e,t){const n=e.transaction("Contacts","readwrite"),i=n.objectStore("Contacts").put(t);i.onsuccess=function(e){console.log(e)},i.onerror=function(e){console.log("error")},n.oncomplete=function(){e.close()}}(n,{email:s,firstName:r,lastName:o,score:0})})),null==s||s.addEventListener("click",(()=>{!function(e){var t,n,i;const s=e.transaction("Contacts","readwrite").objectStore("Contacts"),r=null===(t=document.getElementById("min"))||void 0===t?void 0:t.innerText,o=null===(n=document.getElementById("sec"))||void 0===n?void 0:n.innerText,a=null===(i=document.getElementById("clickDiffField"))||void 0===i?void 0:i.innerText;let l=0;r&&o&&a&&(l=100*+a-10*(60*+r+ +o),l<0&&(l=0)),s.openCursor().onsuccess=function(e){const t=e.target.result,n=s.count();let i=0;n.onsuccess=function(){if(i=n.result,t){if(t.key===i){const e=t.value;e.score=l,t.update(e).onsuccess=function(){console.log("score updated")}}t.continue()}}}}(n)}))},this}}},607:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),n(387);const s=n(752),r=n(977),o=n(274),a=n(363),l=n(334),d=n(767),c=document.getElementById("app");if(!c)throw Error("App root element not found");window.onload=()=>{new r.Header(c).render(),new s.App(c).render();const e=document.querySelector("main");if(!e)throw Error("App root element not found");const t=()=>i(void 0,void 0,void 0,(function*(){const t=[{path:"#/",view:()=>{new o.AboutPage(e).render()}},{path:"#/about",view:()=>{new o.AboutPage(e).render()}},{path:"#/score",view:()=>{new a.ScorePage(e).render()}},{path:"#/settings",view:()=>{new l.SettingsPage(e).render()}}];let n=t.map((e=>({route:e,isMatch:window.location.hash===e.path}))).find((e=>e.isMatch));n||(n={route:t[0],isMatch:!0}),n.route.view()})),n=document.querySelectorAll(".menu__item");null==n||n.forEach((e=>e.addEventListener("click",(()=>{setTimeout((()=>{for(let e=0;e<n.length;e++)n[e].classList.remove("active");e.classList.contains("active")||e.classList.add("active"),t()}),0)})))),window.addEventListener("popstate",t),(new d.IndexedDB).render()}},274:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AboutPage=void 0;const i=n(403);n(754);const s=n(7);class r extends i.BaseComponent{constructor(e){super("div",["about"]),this.rootElement=e,this.about=document.createElement("div"),this.aboutTitle=document.createElement("h1"),this.aboutSteps=document.createElement("div"),this.aboutSteps.setAttribute("class","about__steps")}render(){return this.rootElement.innerHTML="",this.rootElement.appendChild(this.element),this.element.appendChild(this.aboutTitle).innerText="How to play?",this.element.appendChild(this.aboutSteps),new s.AboutStep(this.aboutSteps).render(1,"Register new player in game","first-step.png"),new s.AboutStep(this.aboutSteps).render(2,"Configure your game settings","second-step.png"),new s.AboutStep(this.aboutSteps).render(3,"Start you new game! Remember card positions and match it before times up.","third-step.png"),this.about}}t.AboutPage=r},7:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AboutStep=void 0;const i=n(403);n(754);class s extends i.BaseComponent{constructor(e){super("div",["about__step"]),this.rootElement=e,this.rootElement.appendChild(this.element),this.aboutStep=document.createElement("div")}render(e,t,n){return this.element.innerHTML=`\n    <div class="about__text">\n      <div class="about__number">${e}</div>\n      <p>${t}</p>\n    </div>\n    <div class="about__img"><img src="./images/about/${n}" alt=""></div>\n  `,this.aboutStep}}t.AboutStep=s},363:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScorePage=void 0;const i=n(403),s=n(143);n(572);class r extends i.BaseComponent{constructor(e){super("div",["score"]),this.rootElement=e,this.score=document.createElement("div"),this.scoreTitle=document.createElement("h1"),this.scoreItems=document.createElement("div"),this.scoreItems.setAttribute("class","score__players")}render(){return this.rootElement.innerHTML="",this.rootElement.appendChild(this.element),this.element.appendChild(this.scoreTitle).innerText="Best players",this.element.appendChild(this.scoreItems),new s.ScoreItem(this.scoreItems).render(),this.score}}t.ScorePage=r},143:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScoreItem=void 0;const i=n(403);class s extends i.BaseComponent{constructor(e){super("div",["score__player"]),this.rootElement=e,this.rootElement.appendChild(this.element),this.scoreItem=document.createElement("div")}render(){const e=document.querySelector(".score__players");window.indexedDB||console.log("Your browser doesn't support IndexedDB");const t=indexedDB.open("kagerka",1);return t.onerror=e=>{console.error(`Database error: ${e.target}`)},t.onsuccess=()=>{t.result,function(){e&&(e.innerHTML="");const n=t.result.transaction("Contacts").objectStore("Contacts");let i=0;n.index("score").openCursor(null,"prev").onsuccess=t=>{const n=t.target.result;if(n&&i<10){i++;const t=document.createElement("div");t.classList.add("score__player"),t.innerHTML=`\n          <div class="score__player_info">\n            <div class="score__player_pic"></div>\n            <div class="score__player_contacts">\n              <div class="score__player_name">${n.value.firstName} ${n.value.lastName}</div>\n              <div class="score__player_email">${n.value.email}</div>\n            </div>\n          </div>\n          <div class="score__player_score">Score:  <span>${n.value.score}</span></div>\n        `,null==e||e.appendChild(t),n.continue()}else console.log("all data displayed")}}()},this.scoreItem}}t.ScoreItem=s},334:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsPage=void 0;const i=n(403);n(27);class s extends i.BaseComponent{constructor(e){super("div",["settings"]),this.rootElement=e,this.settings=document.createElement("div")}render(){return this.rootElement.innerHTML="",this.rootElement.appendChild(this.element),this.element.innerHTML='\n      <h1>Game settings</h1>\n      <div class="settings__menu">\n        <div class="settings__item">\n          <h2>Game cards</h2>\n          <select>\n            <option value="0">select game cards type</option>\n            <option value="1">Animals</option>\n            <option value="2">Flowers</option>\n          </select>\n        </div>\n        <div class="settings__item">\n          <h2>Difficulty</h2>\n          <select>\n            <option value="0">select game type</option>\n            <option value="1">3 x 4</option>\n            <option value="2">4 x 4</option>\n            <option value="3">4 x 5</option>\n            <option value="4">6 x 6</option>\n          </select>\n        </div>\n      </div>\n    ',this.settings}}t.SettingsPage=s},680:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise((t=>{setTimeout(t,e)}))}}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(607)})();